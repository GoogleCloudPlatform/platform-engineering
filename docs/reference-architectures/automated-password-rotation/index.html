
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://googlecloudplatform.github.io/platform-engineering/reference-architectures/automated-password-rotation/">
      
      
        <link rel="prev" href="../accelerating-migrations/">
      
      
        <link rel="next" href="../backstage/">
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.5.50">
    
    
      
        <title>Overview - Platform Engineering on Google Cloud</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.a40c8224.min.css">
      
      
  
  
    
    
  
  
  <style>:root{--md-admonition-icon--info:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M224 256a128 128 0 1 0 0-256 128 128 0 1 0 0 256m-45.7 48C79.8 304 0 383.8 0 482.3 0 498.7 13.3 512 29.7 512h388.6c1.8 0 3.5-.2 5.3-.5-76.3-55.1-99.8-141-103.1-200.2-16.1-4.8-33.1-7.3-50.7-7.3h-91.4zm308.8-78.3-120 48C358 277.4 352 286.2 352 296c0 63.3 25.9 168.8 134.8 214.2 5.9 2.5 12.6 2.5 18.5 0C614.1 464.8 640 359.3 640 296c0-9.8-6-18.6-15.1-22.3l-120-48c-5.7-2.3-12.1-2.3-17.8 0M591.4 312c-3.9 50.7-27.2 116.7-95.4 149.7V273.9z"/></svg>');}</style>



    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../stylesheets/extra.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      
  


  
  

<script id="__analytics">function __md_analytics(){function e(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],e("js",new Date),e("config","G-DMWFJ8NNHF"),document.addEventListener("DOMContentLoaded",(function(){document.forms.search&&document.forms.search.query.addEventListener("blur",(function(){this.value&&e("event","search",{search_term:this.value})}));document$.subscribe((function(){var t=document.forms.feedback;if(void 0!==t)for(var a of t.querySelectorAll("[type=submit]"))a.addEventListener("click",(function(a){a.preventDefault();var n=document.location.pathname,d=this.getAttribute("data-md-value");e("event","feedback",{page:n,data:d}),t.firstElementChild.disabled=!0;var r=t.querySelector(".md-feedback__note [data-md-value='"+d+"']");r&&(r.hidden=!1)})),t.hidden=!1})),location$.subscribe((function(t){e("config","G-DMWFJ8NNHF",{page_path:t.pathname})}))}));var t=document.createElement("script");t.async=!0,t.src="https://www.googletagmanager.com/gtag/js?id=G-DMWFJ8NNHF",document.getElementById("__analytics").insertAdjacentElement("afterEnd",t)}</script>
  
    <script>"undefined"!=typeof __md_analytics&&__md_analytics()</script>
  

    
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#overview" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Platform Engineering on Google Cloud" class="md-header__button md-logo" aria-label="Platform Engineering on Google Cloud" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Platform Engineering on Google Cloud
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Overview
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/GoogleCloudPlatform/platform-engineering" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Platform Engineering on Google Cloud" class="md-nav__button md-logo" aria-label="Platform Engineering on Google Cloud" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    Platform Engineering on Google Cloud
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/GoogleCloudPlatform/platform-engineering" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Platform Engineering on Google Cloud
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../code-of-conduct/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Code of Conduct
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../contributing/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    How to Contribute
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" checked>
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Reference architectures
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Reference architectures
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_1" >
        
          
          <label class="md-nav__link" for="__nav_4_1" id="__nav_4_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Accelerating migrations
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_1">
            <span class="md-nav__icon md-icon"></span>
            Accelerating migrations
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../accelerating-migrations/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Accelerate migrations through platform engineering golden paths
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_2" checked>
        
          
          <label class="md-nav__link" for="__nav_4_2" id="__nav_4_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Automated password rotation
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_4_2">
            <span class="md-nav__icon md-icon"></span>
            Automated password rotation
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Overview
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Overview
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#storing-passwords-in-google-cloud" class="md-nav__link">
    <span class="md-ellipsis">
      Storing passwords in Google Cloud
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#why-password-rotation" class="md-nav__link">
    <span class="md-ellipsis">
      Why password rotation
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#how-to-rotate-passwords" class="md-nav__link">
    <span class="md-ellipsis">
      How to rotate passwords
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#automatic-password-rotation" class="md-nav__link">
    <span class="md-ellipsis">
      Automatic password rotation
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Automatic password rotation">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#workflow" class="md-nav__link">
    <span class="md-ellipsis">
      Workflow
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#example-deployment-for-automatic-password-rotation-in-cloudsql" class="md-nav__link">
    <span class="md-ellipsis">
      Example deployment for automatic password rotation in CloudSQL
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Example deployment for automatic password rotation in CloudSQL">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#workflow-of-the-example-deployment" class="md-nav__link">
    <span class="md-ellipsis">
      Workflow of the example deployment
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#deploy-the-architecture" class="md-nav__link">
    <span class="md-ellipsis">
      Deploy the architecture
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#review-the-deployed-architecture" class="md-nav__link">
    <span class="md-ellipsis">
      Review the deployed architecture
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Review the deployed architecture">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#review-cloud-sql-database" class="md-nav__link">
    <span class="md-ellipsis">
      Review Cloud SQL database
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#review-secret-manager" class="md-nav__link">
    <span class="md-ellipsis">
      Review Secret Manager
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#review-cloud-scheduler-job" class="md-nav__link">
    <span class="md-ellipsis">
      Review Cloud Scheduler job
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#review-pubsub-topic-configuration" class="md-nav__link">
    <span class="md-ellipsis">
      Review Pub/Sub topic configuration
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#review-cloud-run-function" class="md-nav__link">
    <span class="md-ellipsis">
      Review Cloud Run Function
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#verify-that-you-are-able-to-connect-to-the-cloud-sql-instance" class="md-nav__link">
    <span class="md-ellipsis">
      Verify that you are able to connect to the Cloud SQL instance
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#rotate-the-cloud-sql-password" class="md-nav__link">
    <span class="md-ellipsis">
      Rotate the Cloud SQL password
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#test-the-new-password" class="md-nav__link">
    <span class="md-ellipsis">
      Test the new password
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Test the new password">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#destroy-the-architecture" class="md-nav__link">
    <span class="md-ellipsis">
      Destroy the architecture
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#conclusion" class="md-nav__link">
    <span class="md-ellipsis">
      Conclusion
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_3" >
        
          
          <label class="md-nav__link" for="__nav_4_3" id="__nav_4_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Backstage
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_3">
            <span class="md-nav__icon md-icon"></span>
            Backstage
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../backstage/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Backstage on Google Cloud
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_3_2" >
        
          
          <label class="md-nav__link" for="__nav_4_3_2" id="__nav_4_3_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Backstage quickstart
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_3_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_3_2">
            <span class="md-nav__icon md-icon"></span>
            Backstage quickstart
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../backstage/backstage-quickstart/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Backstage on Google Cloud Quickstart
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_4" >
        
          
          <label class="md-nav__link" for="__nav_4_4" id="__nav_4_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Cloud deploy flow
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_4">
            <span class="md-nav__icon md-icon"></span>
            Cloud deploy flow
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../cloud_deploy_flow/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Platform Engineering Deployment Demo
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_4_2" >
        
          
          <label class="md-nav__link" for="__nav_4_4_2" id="__nav_4_4_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    CloudFunctions
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_4_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_4_2">
            <span class="md-nav__icon md-icon"></span>
            CloudFunctions
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_4_2_1" >
        
          
          <label class="md-nav__link" for="__nav_4_4_2_1" id="__nav_4_4_2_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    cloudDeployApprovals
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_4_4_2_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_4_2_1">
            <span class="md-nav__icon md-icon"></span>
            cloudDeployApprovals
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../cloud_deploy_flow/CloudFunctions/cloudDeployApprovals/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Cloud Deployment Approvals with Pub/Sub
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_4_2_2" >
        
          
          <label class="md-nav__link" for="__nav_4_4_2_2" id="__nav_4_4_2_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    cloudDeployInteractions
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_4_4_2_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_4_2_2">
            <span class="md-nav__icon md-icon"></span>
            cloudDeployInteractions
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../cloud_deploy_flow/CloudFunctions/cloudDeployInteractions/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Cloud Deploy Interactions with Pub/Sub
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_4_2_3" >
        
          
          <label class="md-nav__link" for="__nav_4_4_2_3" id="__nav_4_4_2_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    cloudDeployOperations
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_4_4_2_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_4_2_3">
            <span class="md-nav__icon md-icon"></span>
            cloudDeployOperations
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../cloud_deploy_flow/CloudFunctions/cloudDeployOperations/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Cloud Deploy Operations Function
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_4_2_4" >
        
          
          <label class="md-nav__link" for="__nav_4_4_2_4" id="__nav_4_4_2_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    createRelease
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_4_4_2_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_4_2_4">
            <span class="md-nav__icon md-icon"></span>
            createRelease
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../cloud_deploy_flow/CloudFunctions/createRelease/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Example Cloud Run Function
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_4_3" >
        
          
          <label class="md-nav__link" for="__nav_4_4_3" id="__nav_4_4_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    CloudRun
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_4_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_4_3">
            <span class="md-nav__icon md-icon"></span>
            CloudRun
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../cloud_deploy_flow/CloudRun/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Random Date Service
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_4_4" >
        
          
          <label class="md-nav__link" for="__nav_4_4_4" id="__nav_4_4_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    WebsiteDemo
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_4_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_4_4">
            <span class="md-nav__icon md-icon"></span>
            WebsiteDemo
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../cloud_deploy_flow/WebsiteDemo/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Pub/Sub Local Demo
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_5" >
        
          
          <label class="md-nav__link" for="__nav_4_5" id="__nav_4_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Github runners gke
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_5">
            <span class="md-nav__icon md-icon"></span>
            Github runners gke
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../github-runners-gke/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Reference Guide: Deploy and use GitHub Actions Runners on GKE
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_6" >
        
          
          <label class="md-nav__link" for="__nav_4_6" id="__nav_4_6_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Sandboxes
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_6">
            <span class="md-nav__icon md-icon"></span>
            Sandboxes
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../sandboxes/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Sandbox Projects Reference Architecure
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_6_2" >
        
          
          <label class="md-nav__link" for="__nav_4_6_2" id="__nav_4_6_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Examples
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_6_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_6_2">
            <span class="md-nav__icon md-icon"></span>
            Examples
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_6_2_1" >
        
          
          <label class="md-nav__link" for="__nav_4_6_2_1" id="__nav_4_6_2_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Cli
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_4_6_2_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_6_2_1">
            <span class="md-nav__icon md-icon"></span>
            Cli
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../sandboxes/examples/cli/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Example Command Line Interface
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_6_2_2" >
        
          
          <label class="md-nav__link" for="__nav_4_6_2_2" id="__nav_4_6_2_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Gcp sandboxes
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_4_6_2_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_6_2_2">
            <span class="md-nav__icon md-icon"></span>
            Gcp sandboxes
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../sandboxes/examples/gcp-sandboxes/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Overview
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_6_3" >
        
          
          <label class="md-nav__link" for="__nav_4_6_3" id="__nav_4_6_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Sandbox modules
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_6_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_6_3">
            <span class="md-nav__icon md-icon"></span>
            Sandbox modules
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../sandboxes/sandbox-modules/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Sandbox Projects
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#storing-passwords-in-google-cloud" class="md-nav__link">
    <span class="md-ellipsis">
      Storing passwords in Google Cloud
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#why-password-rotation" class="md-nav__link">
    <span class="md-ellipsis">
      Why password rotation
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#how-to-rotate-passwords" class="md-nav__link">
    <span class="md-ellipsis">
      How to rotate passwords
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#automatic-password-rotation" class="md-nav__link">
    <span class="md-ellipsis">
      Automatic password rotation
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Automatic password rotation">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#workflow" class="md-nav__link">
    <span class="md-ellipsis">
      Workflow
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#example-deployment-for-automatic-password-rotation-in-cloudsql" class="md-nav__link">
    <span class="md-ellipsis">
      Example deployment for automatic password rotation in CloudSQL
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Example deployment for automatic password rotation in CloudSQL">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#workflow-of-the-example-deployment" class="md-nav__link">
    <span class="md-ellipsis">
      Workflow of the example deployment
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#deploy-the-architecture" class="md-nav__link">
    <span class="md-ellipsis">
      Deploy the architecture
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#review-the-deployed-architecture" class="md-nav__link">
    <span class="md-ellipsis">
      Review the deployed architecture
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Review the deployed architecture">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#review-cloud-sql-database" class="md-nav__link">
    <span class="md-ellipsis">
      Review Cloud SQL database
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#review-secret-manager" class="md-nav__link">
    <span class="md-ellipsis">
      Review Secret Manager
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#review-cloud-scheduler-job" class="md-nav__link">
    <span class="md-ellipsis">
      Review Cloud Scheduler job
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#review-pubsub-topic-configuration" class="md-nav__link">
    <span class="md-ellipsis">
      Review Pub/Sub topic configuration
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#review-cloud-run-function" class="md-nav__link">
    <span class="md-ellipsis">
      Review Cloud Run Function
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#verify-that-you-are-able-to-connect-to-the-cloud-sql-instance" class="md-nav__link">
    <span class="md-ellipsis">
      Verify that you are able to connect to the Cloud SQL instance
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#rotate-the-cloud-sql-password" class="md-nav__link">
    <span class="md-ellipsis">
      Rotate the Cloud SQL password
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#test-the-new-password" class="md-nav__link">
    <span class="md-ellipsis">
      Test the new password
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Test the new password">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#destroy-the-architecture" class="md-nav__link">
    <span class="md-ellipsis">
      Destroy the architecture
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#conclusion" class="md-nav__link">
    <span class="md-ellipsis">
      Conclusion
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
  


<h1 id="overview">Overview<a class="headerlink" href="#overview" title="Permanent link">&para;</a></h1>
<p>Secrets rotation is a broadly accepted best practice across the information
technology industry. However, often times it is cumbersome and disruptive
process. In this guide you will use Google Cloud tools to automate the process
of rotating passwords for a Cloud SQL instance. This method could easily be
extended to other tools and types of secrets.</p>
<h2 id="storing-passwords-in-google-cloud">Storing passwords in Google Cloud<a class="headerlink" href="#storing-passwords-in-google-cloud" title="Permanent link">&para;</a></h2>
<p>In Google Cloud, secrets including passwords can be stored using many different
tools including common open source tools such as <a href="https://www.vaultproject.io/">Vault</a>, however in this
guide, you will use <a href="https://cloud.google.com/security/products/secret-manager">Secret Manager</a>, Google Cloud's fully
managed product for securely storing secrets. Regardless of the tool you use,
passwords stored should be further secured. When using <a href="https://cloud.google.com/security/products/secret-manager">Secret
Manager</a>, following are some of the ways you can further secure
your secrets:</p>
<ol>
<li>
<p><strong>Limiting access</strong> : The secrets should be readable writable only through
    the <a href="https://cloud.google.com/iam/docs/service-account-overview">Service Accounts</a> via <a href="https://cloud.google.com/security/products/iam">IAM roles</a>. The principle
    of least privilege must be followed while granting roles to the service
    accounts.</p>
</li>
<li>
<p><strong>Encryption</strong> : The secrets should be encrypted. <a href="https://cloud.google.com/security/products/secret-manager">Secret
    Manager</a> encrypts the secret at rest using AES-256 by
    default. But you can use your own encryption keys, customer-managed
    encryption keys (CMEK) to encrypt your secret at rest. For details, see
    <a href="https://cloud.google.com/secret-manager/docs/cmek">Enable customer-managed encryption keys for Secret
    Manager</a>.</p>
</li>
<li>
<p><strong>Password rotation</strong> : The passwords stored in the secret manager should be
    rotated on a regular basis to reduce the risk of a security incident.</p>
</li>
</ol>
<h2 id="why-password-rotation">Why password rotation<a class="headerlink" href="#why-password-rotation" title="Permanent link">&para;</a></h2>
<p>Security best practices require us to regularly rotate the passwords in our
stack. Changing the password mitigates the risk in the event where passwords are
compromised.</p>
<h2 id="how-to-rotate-passwords">How to rotate passwords<a class="headerlink" href="#how-to-rotate-passwords" title="Permanent link">&para;</a></h2>
<p>Manually rotating the passwords is an antipattern and should not be done as it
exposes the password to the human rotating it and may result in security and
system incidents. Manual rotation processes also introduce the risk that the
rotation isn't actually performed due to human error, for example forgetting or
typos.</p>
<p>This necessitates having a workflow that automates password rotation. The
password could be of an application, a database, a third-party service or a SaaS
vendor etc.</p>
<h2 id="automatic-password-rotation">Automatic password rotation<a class="headerlink" href="#automatic-password-rotation" title="Permanent link">&para;</a></h2>
<p>Typically, rotating a password requires these steps:</p>
<ul>
<li>Change the password in the underlying software or system</li>
</ul>
<p>(such as applications,databases, SaaS).</p>
<ul>
<li>
<p>Update Secret Manager to store the new password.</p>
</li>
<li>
<p>Restart the applications that use that password. This will make the</p>
</li>
</ul>
<p>application source the latest passwords.</p>
<p>The following architecture represents a general design for a systems that can
rotate password for any underlying software/system.</p>
<p><img alt="design" src="resources/generic-password-rotation-flow.png" /></p>
<h3 id="workflow">Workflow<a class="headerlink" href="#workflow" title="Permanent link">&para;</a></h3>
<ul>
<li>A pipeline or a <a href="https://cloud.google.com/scheduler">cloud scheduler job</a> sends a message to a
  pub/sub topic. The message contains the information about the password that is
  to be rotated. For example, this information may include secret ID in secret
  manager, database instance and username if it is a database password.</li>
<li>The message arriving to the pub/sub topic triggers a <a href="https://cloud.google.com/functions?hl=en">Cloud Run
  Function</a> that reads the message and gathers information as
  supplied in the message.</li>
<li>The function changes the password in the corresponding system. For example, if
  the message contained a database instance, database name and user,the function
  changes the password for that user in the given database.</li>
<li>The function updates the password in secret manager to reflect the new
  password. It knows what secret ID to update since it was provided in the
  pub/sub message.</li>
<li>The function publishes a message to a different pub/sub topic indicating that
  the password has been rotated. This topic can be subscribed any application or
  system that may want to know in the event of password rotation, whether to
  re-start themselves or perform any other task.</li>
</ul>
<h2 id="example-deployment-for-automatic-password-rotation-in-cloudsql">Example deployment for automatic password rotation in CloudSQL<a class="headerlink" href="#example-deployment-for-automatic-password-rotation-in-cloudsql" title="Permanent link">&para;</a></h2>
<p>The following architecture demonstrates a way to automatically rotate CloudSQL
password.</p>
<p><img alt="design" src="resources/cloudsql-password-rotation-flow.png" /></p>
<h3 id="workflow-of-the-example-deployment">Workflow of the example deployment<a class="headerlink" href="#workflow-of-the-example-deployment" title="Permanent link">&para;</a></h3>
<ul>
<li>A <a href="https://cloud.google.com/scheduler">Cloud Scheduler</a> job is scheduled to run every 1st day on
  the month. The jobs publishes a message to a Pub/Sub topic containing secret
  ID, Cloud SQL instance name, database, region and database user in the
  payload.</li>
<li>The message arrival on the pub/sub topic triggers a <a href="https://cloud.google.com/functions?hl=en">Cloud Run
  Function</a>, which uses the information provided in the message
  to connect to the CloudSQL instance via <a href="https://cloud.google.com/vpc/docs/serverless-vpc-access">Serverless VPC
  Connector</a> and changes the password. The function uses a
  <a href="https://cloud.google.com/iam/docs/service-account-overview">service account</a> that has <a href="https://cloud.google.com/security/products/iam">IAM roles</a> required to
  connect to the Cloud Sql instance.</li>
<li>The function then updates the secret in Secret Manager.</li>
</ul>
<p><strong>Note</strong> : The architecture doesn't show the flow to restart the application
after the password rotation as shown in thee <a href="#workflow">Generic architecture</a>
but it can be added easily with minimal changes to the Terraform code.</p>
<h3 id="deploy-the-architecture">Deploy the architecture<a class="headerlink" href="#deploy-the-architecture" title="Permanent link">&para;</a></h3>
<p>The code to build the architecture has been provided with this repository.
Follow these instructions to create the architecture and use it:</p>
<ol>
<li>
<p>Open <a href="https://console.cloud.google.com/welcome?cloudshell=true">Cloud Shell</a> on Google Cloud Console and log in with your
    credentials.</p>
</li>
<li>
<p>If you want to use an existing project, get <code>role/project.owner</code> role on the
    project and set the environment in Cloud Shell as shown below. Then, move to
    step 4.</p>
<div class="language-shell highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="w"> </span><span class="c1">#set shell environment variable</span>
</span><span id="__span-0-2"><a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a><span class="w"> </span><span class="nb">export</span><span class="w"> </span><span class="nv">PROJECT_ID</span><span class="o">=</span>&lt;PROJECT_ID&gt;
</span></code></pre></div>
<p>Replace <code>&lt;PROJECT_ID&gt;</code> with the ID of the existing project.</p>
</li>
<li>
<p>If you want to create a new GCP project run the following commands in Cloud
    Shell.</p>
<div class="language-shell highlight"><pre><span></span><code><span id="__span-1-1"><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a><span class="w"> </span><span class="c1">#set shell environment variable</span>
</span><span id="__span-1-2"><a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a><span class="w"> </span><span class="nb">export</span><span class="w"> </span><span class="nv">PROJECT_ID</span><span class="o">=</span>&lt;PROJECT_ID&gt;
</span><span id="__span-1-3"><a id="__codelineno-1-3" name="__codelineno-1-3" href="#__codelineno-1-3"></a><span class="w"> </span><span class="c1">#create project</span>
</span><span id="__span-1-4"><a id="__codelineno-1-4" name="__codelineno-1-4" href="#__codelineno-1-4"></a><span class="w"> </span>gcloud<span class="w"> </span>projects<span class="w"> </span>create<span class="w"> </span><span class="si">${</span><span class="nv">PROJECT_ID</span><span class="si">}</span><span class="w"> </span>--folder<span class="o">=</span>&lt;FOLDER_ID&gt;
</span><span id="__span-1-5"><a id="__codelineno-1-5" name="__codelineno-1-5" href="#__codelineno-1-5"></a><span class="w"> </span><span class="c1">#associate the project with billing account</span>
</span><span id="__span-1-6"><a id="__codelineno-1-6" name="__codelineno-1-6" href="#__codelineno-1-6"></a><span class="w"> </span>gcloud<span class="w"> </span>billing<span class="w"> </span>projects<span class="w"> </span>link<span class="w"> </span><span class="si">${</span><span class="nv">PROJECT_ID</span><span class="si">}</span><span class="w"> </span>--billing-account<span class="o">=</span>&lt;BILLING_ACCOUNT_ID&gt;
</span></code></pre></div>
<p>Replace <code>&lt;PROJECT_ID&gt;</code> with the ID of the new project. Replace
<code>&lt;BILLING_ACCOUNT_ID&gt;</code> with the billing account ID that the project should
be associated with.</p>
</li>
<li>
<p>Set the project ID in Cloud Shell and enable APIs in the project:</p>
<div class="language-shell highlight"><pre><span></span><code><span id="__span-2-1"><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a><span class="w"> </span>gcloud<span class="w"> </span>config<span class="w"> </span><span class="nb">set</span><span class="w"> </span>project<span class="w"> </span><span class="si">${</span><span class="nv">PROJECT_ID</span><span class="si">}</span>
</span><span id="__span-2-2"><a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a><span class="w"> </span>gcloud<span class="w"> </span>services<span class="w"> </span><span class="nb">enable</span><span class="w"> </span><span class="se">\</span>
</span><span id="__span-2-3"><a id="__codelineno-2-3" name="__codelineno-2-3" href="#__codelineno-2-3"></a><span class="w">  </span>cloudresourcemanager.googleapis.com<span class="w"> </span><span class="se">\</span>
</span><span id="__span-2-4"><a id="__codelineno-2-4" name="__codelineno-2-4" href="#__codelineno-2-4"></a><span class="w">  </span>serviceusage.googleapis.com<span class="w"> </span><span class="se">\</span>
</span><span id="__span-2-5"><a id="__codelineno-2-5" name="__codelineno-2-5" href="#__codelineno-2-5"></a><span class="w">  </span>--project<span class="w"> </span><span class="si">${</span><span class="nv">PROJECT_ID</span><span class="si">}</span>
</span></code></pre></div>
</li>
<li>
<p>Download the Git repository containing the code to build the example
    architecture:</p>
<div class="language-shell highlight"><pre><span></span><code><span id="__span-3-1"><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a><span class="w"> </span><span class="nb">cd</span><span class="w"> </span>~
</span><span id="__span-3-2"><a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a><span class="w"> </span>git<span class="w"> </span>clone<span class="w"> </span>https://github.com/GoogleCloudPlatform/platform-engineering
</span><span id="__span-3-3"><a id="__codelineno-3-3" name="__codelineno-3-3" href="#__codelineno-3-3"></a><span class="w"> </span><span class="nb">cd</span><span class="w"> </span>platform-engineering/reference-architectures/automated-password-rotation/terraform
</span><span id="__span-3-4"><a id="__codelineno-3-4" name="__codelineno-3-4" href="#__codelineno-3-4"></a>
</span><span id="__span-3-5"><a id="__codelineno-3-5" name="__codelineno-3-5" href="#__codelineno-3-5"></a><span class="w"> </span>terraform<span class="w"> </span>init
</span><span id="__span-3-6"><a id="__codelineno-3-6" name="__codelineno-3-6" href="#__codelineno-3-6"></a><span class="w"> </span>terraform<span class="w"> </span>plan<span class="w"> </span>-var<span class="w"> </span><span class="s2">&quot;project_id=</span><span class="nv">$PROJECT_ID</span><span class="s2">&quot;</span>
</span><span id="__span-3-7"><a id="__codelineno-3-7" name="__codelineno-3-7" href="#__codelineno-3-7"></a><span class="w"> </span>terraform<span class="w"> </span>apply<span class="w"> </span>-var<span class="w"> </span><span class="s2">&quot;project_id=</span><span class="nv">$PROJECT_ID</span><span class="s2">&quot;</span><span class="w"> </span>--auto-approve
</span></code></pre></div>
<p><strong>Note:</strong> It takes around 30 mins for the entire architecture to get
deployed.</p>
</li>
</ol>
<h2 id="review-the-deployed-architecture">Review the deployed architecture<a class="headerlink" href="#review-the-deployed-architecture" title="Permanent link">&para;</a></h2>
<p>Once the Terraform apply has successfully finished, the example architecture
will be deployed in the your Google Cloud project. Before exercising the
rotation process, review and verify the deployment in the Google Cloud Console.</p>
<h3 id="review-cloud-sql-database">Review Cloud SQL database<a class="headerlink" href="#review-cloud-sql-database" title="Permanent link">&para;</a></h3>
<ol>
<li>In the Cloud Console, using the naviagion menu select <code>Databases &gt; SQL</code>.
    Confirm that <code>cloudsql-for-pg</code> is present in the instance list.</li>
<li>Click on <code>cloudsql-for-pg</code>, to open the instance details page.</li>
<li>In the left hand menu select <code>Users</code>. Confirm you see a user with the name
    <code>user1</code>.</li>
<li>In the left hand menu select <code>Databases</code>. Confirm you see see a database
    named <code>test</code>.</li>
<li>In the left hand menu select <code>Overview</code>.</li>
<li>In the <code>Connect to this instance</code> section, note that only
    <code>Private IP address</code> is present and no public IP address. This restricts
    access to the instance over public network.</li>
</ol>
<h3 id="review-secret-manager">Review Secret Manager<a class="headerlink" href="#review-secret-manager" title="Permanent link">&para;</a></h3>
<ol>
<li>In the Cloud Console, using the naviagion menu select
    <code>Security &gt; Secret Manager</code>. Confirm that <code>cloudsql-pswd</code> is present in the
    list.</li>
<li>Click on <code>cloudsql-pswd</code>.</li>
<li>Click three dots icon and select <code>View secret value</code> to view the password
    for Cloud SQL database.</li>
<li>Copy the secret value, you will use this in the next section to confirm
    access to the Cloud SQL instance.</li>
</ol>
<h3 id="review-cloud-scheduler-job">Review Cloud Scheduler job<a class="headerlink" href="#review-cloud-scheduler-job" title="Permanent link">&para;</a></h3>
<ol>
<li>In the Cloud Console, using the naviagion menu select
    <code>Integration Services &gt; Cloud Scheduler</code>. Confirm that
    <code>password-rotator-job</code> is present in the Scheduler Jobs list.</li>
<li>Click on <code>password-rotator-job</code>, confirm it is configured to run on 1st of
    every month.</li>
<li>
<p>Click <code>Continue</code> to see execution configuration. Confirm the following
    settings:</p>
<ul>
<li><code>Target type</code> is Pub/Sub</li>
<li><code>Select a Cloud Pub/Sub topic</code> is set to <code>pswd-rotation-topic</code></li>
<li><code>Message body</code> contains a JSON object with the details of the Cloud SQL
  isntance and secret to be rotated.</li>
</ul>
</li>
<li>
<p>Click <code>Cancel</code>, to exit the Cloud Scheduler job details.</p>
</li>
</ol>
<h3 id="review-pubsub-topic-configuration">Review Pub/Sub topic configuration<a class="headerlink" href="#review-pubsub-topic-configuration" title="Permanent link">&para;</a></h3>
<ol>
<li>In the Cloud Console, using the naviagion menu select <code>Analytics &gt; Pub/Sub</code>.</li>
<li>In the left hand menu select <code>Topic</code>. Confirm that <code>pswd-rotation-topic</code> is
    present in the topics list.</li>
<li>Click on <code>pswd-rotation-topic</code>.</li>
<li>In the <code>Subscriptions</code> tab, click on Subscription ID for the rotator Cloud
    Function.</li>
<li>Click on the <code>Details</code> tab. Confirm, the <code>Audience</code> tag shows the rotator
    Cloud Function.</li>
<li>In the left hand menu select <code>Topic</code>.</li>
<li>Click on <code>pswd-rotation-topic</code>.</li>
<li>Click on the <code>Details</code> tab.</li>
<li>Click on the schema in the <code>Schema name</code> field.</li>
<li>In the <code>Details</code>, confirm that the schema contains these keys: <code>secretid</code>,
    <code>instance_name</code>, <code>db_user</code>, <code>db_name</code> and <code>db_location</code>. These keys will be
    used to identify what database and user password is to be rotated.</li>
</ol>
<h3 id="review-cloud-run-function">Review Cloud Run Function<a class="headerlink" href="#review-cloud-run-function" title="Permanent link">&para;</a></h3>
<ol>
<li>In the Cloud Console, using the naviagion menu select
    <code>Serverless &gt; Cloud Run Functions</code>. Confirm that <code>pswd_rotator_function</code> is
    present in the list.</li>
<li>Click on <code>pswd_rotator_function</code>.</li>
<li>Click on the <code>Trigger</code> tab. Confirm that the field <code>Receive events from</code> has
    the Pub/Sub topic <code>pswd-rotation-topic</code>. This indicates that the function
    will run when a message arrives to that topic.</li>
<li>Click on the <code>Details</code> tab. Confirm that under <code>Network Settings</code> VPC
    connector is set to <code>connector-for-sql</code>. This allows the function to connect
    to the CloudSQL over private IPs.</li>
<li>Click on the <code>Source</code> tab to see the python code that the function executes.</li>
</ol>
<p><strong>Note:</strong> For the purpose of this tutorial, the secret is accessible to the
human users and not encrypted. See
<a href="#storing-passwords-in-google-cloud">the section</a> and <a href="https://cloud.google.com/secret-manager/docs/best-practices">Secret Manager best
practice</a></p>
<h3 id="verify-that-you-are-able-to-connect-to-the-cloud-sql-instance">Verify that you are able to connect to the Cloud SQL instance<a class="headerlink" href="#verify-that-you-are-able-to-connect-to-the-cloud-sql-instance" title="Permanent link">&para;</a></h3>
<ol>
<li>In the Cloud Console, using the naviagion menu select <code>Databases &gt; SQL</code></li>
<li>Click on <code>cloudsql-for-pg</code></li>
<li>In the left hand menu select <code>Cloud SQL Studio</code>.</li>
<li>In <code>Database</code> dropdown, choose <code>test</code>.</li>
<li>In <code>User</code> dropdown, choose <code>user1</code>.</li>
<li>In <code>Password</code> textbox paste the password copied from the <code>cloudsql-pswd</code>
    secret.</li>
<li>Click <code>Authenticate</code>. Confirm you were able to log in to the database.</li>
</ol>
<h2 id="rotate-the-cloud-sql-password">Rotate the Cloud SQL password<a class="headerlink" href="#rotate-the-cloud-sql-password" title="Permanent link">&para;</a></h2>
<p>Typically, the Cloud Scheduler will automatically run on 1st day of every month
triggering password rotation. However, for this tutorial you will run the Cloud
Scheduler job manually, which causes the Cloud Run Function to generate a new
password, update it in Cloud SQL and store it in Secret Manager.</p>
<ol>
<li>In the Cloud Console, using the naviagion menu select
    <code>Integration Services &gt; Cloud Scheduler</code>.</li>
<li>For the scheduler job <code>password-rotator-job</code>. Click the three dots icon and
    select <code>Force run</code>.</li>
<li>Verify that the <code>Status of last execution</code> shows <code>Success</code>.</li>
<li>In the Cloud Console, using the naviagion menu select
    <code>Serverless &gt; Cloud Run Functions</code>.</li>
<li>Click function named <code>pswd_rotator_function</code>.</li>
<li>Select the <code>Logs</code> tab.</li>
<li>Review the logs and verify the function has run and completed without
    errors. Successful completion will be noted with log entries containing
    <code>Secret cloudsql-pswd changed in Secret Manager!</code>,
    <code>DB password changed successfully!</code> and
    <code>DB password verified successfully!</code>.</li>
</ol>
<h2 id="test-the-new-password">Test the new password<a class="headerlink" href="#test-the-new-password" title="Permanent link">&para;</a></h2>
<ol>
<li>In the Cloud Console, using the naviagion menu select
    <code>Security &gt; Secret Manager</code>. Confirm that <code>cloudsql-pswd</code> is present in the
    list.</li>
<li>Click on <code>cloudsql-pswd</code>. Note you should now see a new version, version 2
    of the secret.</li>
<li>Click three dots icon and select <code>View secret value</code> to view the password
    for Cloud SQL database.</li>
<li>Copy the secret value.</li>
<li>In the Cloud Console, using the naviagion menu select <code>Databases &gt; SQL</code></li>
<li>Click on <code>cloudsql-for-pg</code></li>
<li>In the left hand menu select <code>Cloud SQL Studio</code>.</li>
<li>In <code>Database</code> dropdown, choose <code>test</code>.</li>
<li>In <code>User</code> dropdown, choose <code>user1</code>.</li>
<li>In <code>Password</code> textbox paste the password copied from the <code>cloudsql-pswd</code>
    secret.</li>
<li>Click <code>Authenticate</code>. Confirm you were able to log in to the database.</li>
</ol>
<h3 id="destroy-the-architecture">Destroy the architecture<a class="headerlink" href="#destroy-the-architecture" title="Permanent link">&para;</a></h3>
<div class="language-shell highlight"><pre><span></span><code><span id="__span-4-1"><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a><span class="w">  </span><span class="nb">cd</span><span class="w"> </span>platform-engineering/reference-architectures/automated-password-rotation/terraform
</span><span id="__span-4-2"><a id="__codelineno-4-2" name="__codelineno-4-2" href="#__codelineno-4-2"></a>
</span><span id="__span-4-3"><a id="__codelineno-4-3" name="__codelineno-4-3" href="#__codelineno-4-3"></a><span class="w">  </span>terraform<span class="w"> </span>init
</span><span id="__span-4-4"><a id="__codelineno-4-4" name="__codelineno-4-4" href="#__codelineno-4-4"></a><span class="w">  </span>terraform<span class="w"> </span>plan<span class="w"> </span>-var<span class="w"> </span><span class="s2">&quot;project_id=</span><span class="nv">$PROJECT_ID</span><span class="s2">&quot;</span>
</span><span id="__span-4-5"><a id="__codelineno-4-5" name="__codelineno-4-5" href="#__codelineno-4-5"></a><span class="w">  </span>terraform<span class="w"> </span>destroy<span class="w"> </span>-var<span class="w"> </span><span class="s2">&quot;project_id=</span><span class="nv">$PROJECT_ID</span><span class="s2">&quot;</span><span class="w"> </span>--auto-approve
</span></code></pre></div>
<h2 id="conclusion">Conclusion<a class="headerlink" href="#conclusion" title="Permanent link">&para;</a></h2>
<p>In this tutorial, you saw a way to automate password rotation on Google Cloud.
First, you saw a generic reference architecture that can be used to automate
password rotation in any password management system. In the later section, you
saw an example deployment that uses Google Cloud services to rotate password of
Cloud Sql database in Google Cloud Secret Manager.</p>
<p>Implementing an automatic flow to rotate passwords takes away manual overhead
and provide seamless way to tighten your password security. It is recommended to
create an automation flow that runs on a regular schedule but can also be easily
triggered manually when needed. There can be many variations of this
architecture that can be adopted. For example, you can directly trigger a Cloud
Run Function from a Google Cloud Scheduler job without sending a message to
pub/sub if you don't want to broadcast the password rotation. You should
identify a flow that fits your organization requirements and modify the
reference architecture to implement it.</p>









  




                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      The projects contained in this repository are maintained by the Google Cloud Solutions Architects team.<br>
Copyright &copy; 2019-2025 Google LLC<br>
<a href='https://cloud.google.com/'><img src='https://googlecloudplatform.github.io/platform-engineering/common/images/cloud.svg' width='240' height='160'/></a>

    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["content.code.copy", "content.code.annotate", "navigation.top", "navigation.tracking"], "search": "../../assets/javascripts/workers/search.f8cc74c7.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.60a45f97.min.js"></script>
      
    
  </body>
</html>